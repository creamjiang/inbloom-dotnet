@model dynamic
@{
	Layout = null;

	if (Model.Count == 0)
	{
		<ul>
			<li>No students found</li>
        @if (ViewBag.Error != null)
        {
            <li>@ViewBag.Error</li>
        }      
		</ul>
	}
	else
	{
		<p>Found @Model.Count students</p>
		<ul>
			@foreach (var student in Model)
			{
				<li><a href="@Url.Action("Detail", "Students", new { studentId = student.id })">@student.name.firstName @student.name.lastSurname</a></li>
			}
		</ul>
	}
}